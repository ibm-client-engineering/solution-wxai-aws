"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4134],{8283:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var a=t(5893),l=t(1151);const o={id:"WXAI",sidebar_position:2,title:"Watsonx ai installation",custom_edit_url:null},i=void 0,s={id:"Deployment/Software/WXAI",title:"Watsonx ai installation",description:"Setup GPU node on OpenShift",source:"@site/docs/2-Deployment/3-Software/2-wxai.mdx",sourceDirName:"2-Deployment/3-Software",slug:"/Deployment/Software/WXAI",permalink:"/solution-wxai-aws/Deployment/Software/WXAI",draft:!1,unlisted:!1,editUrl:null,tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"WXAI",sidebar_position:2,title:"Watsonx ai installation",custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"Cloud Pak for Data Installation",permalink:"/solution-wxai-aws/Deployment/Software/CP4D"},next:{title:"Use Cases",permalink:"/solution-wxai-aws/use-cases"}},r={},c=[{value:"Setup GPU node on OpenShift",id:"setup-gpu-node-on-openshift",level:2},{value:"Install &quot;Node Feature Discovery&quot;",id:"install-node-feature-discovery",level:3},{value:"Create a NodeFeatureDisocvery CR",id:"create-a-nodefeaturedisocvery-cr",level:3},{value:"Install &quot;Nvidia GPU Operator&quot;",id:"install-nvidia-gpu-operator",level:3},{value:"Create &quot;Cluster Policy&quot;",id:"create-cluster-policy",level:3},{value:"Reference Links:",id:"reference-links",level:3},{value:"Install WatsonX.AI on Cloud Pak for Data",id:"install-watsonxai-on-cloud-pak-for-data",level:2},{value:"Apply the WatsonX.AI OLM:",id:"apply-the-watsonxai-olm",level:3},{value:"Apply the WatsonX.AI CR:",id:"apply-the-watsonxai-cr",level:3},{value:"Install Additional Models:",id:"install-additional-models",level:3}];function d(e){const n={a:"a",code:"code",div:"div",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,l.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"setup-gpu-node-on-openshift",children:"Setup GPU node on OpenShift"}),"\n",(0,a.jsx)(n.h3,{id:"install-node-feature-discovery",children:'Install "Node Feature Discovery"'}),"\n",(0,a.jsx)(n.p,{children:"Go to OperatorHub"}),"\n",(0,a.jsx)(n.p,{children:'Search for "Node Feature Discovery"'}),"\n",(0,a.jsx)(n.p,{children:"Install"}),"\n",(0,a.jsx)(n.h3,{id:"create-a-nodefeaturedisocvery-cr",children:"Create a NodeFeatureDisocvery CR"}),"\n",(0,a.jsx)(n.p,{children:"Go to Installed Operators"}),"\n",(0,a.jsx)(n.p,{children:'Select "Node Feature Discovery"'}),"\n",(0,a.jsx)(n.p,{children:'Select the box "Provided APIs"'}),"\n",(0,a.jsx)(n.p,{children:'Select "Create Instance"'}),"\n",(0,a.jsx)(n.p,{children:"Review the values"}),"\n",(0,a.jsx)(n.p,{children:'Select "Create"'}),"\n",(0,a.jsx)(n.h3,{id:"install-nvidia-gpu-operator",children:'Install "Nvidia GPU Operator"'}),"\n",(0,a.jsx)(n.p,{children:"Go to OperatorHub"}),"\n",(0,a.jsx)(n.p,{children:'Search for "Nvidia GPU Operator"'}),"\n",(0,a.jsx)(n.p,{children:"Install"}),"\n",(0,a.jsx)(n.h3,{id:"create-cluster-policy",children:'Create "Cluster Policy"'}),"\n",(0,a.jsx)(n.p,{children:'Go to "Installed Operators"'}),"\n",(0,a.jsx)(n.p,{children:'Click on "Nvidia GPU Operator"'}),"\n",(0,a.jsx)(n.p,{children:'Select "ClusterPolicy" tab'}),"\n",(0,a.jsx)(n.p,{children:'Click "Create ClusterPolicy"'}),"\n",(0,a.jsx)(n.p,{children:'Click "Create"'}),"\n",(0,a.jsx)(n.h3,{id:"reference-links",children:"Reference Links:"}),"\n",(0,a.jsxs)(n.div,{children:[(0,a.jsx)(n.p,{children:"For additional Information:"}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://docs.openshift.com/container-platform/4.12/hardware_enablement/psap-node-feature-discovery-operator.html#create-nfd-cr-web-console_node-feature-discovery-operator",children:"OpenShift Docs on Node Feature Discovery"})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://docs.nvidia.com/datacenter/cloud-native/openshift/latest/install-nfd.html#install-nfd",children:"Nvidia docs on Node Feature Discovery"})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://docs.nvidia.com/datacenter/cloud-native/openshift/latest/install-gpu-ocp.html",children:"Nvidia docs on Nvidia GPU Operator"})})]}),"\n",(0,a.jsx)(n.h2,{id:"install-watsonxai-on-cloud-pak-for-data",children:"Install WatsonX.AI on Cloud Pak for Data"}),"\n",(0,a.jsx)(n.h3,{id:"apply-the-watsonxai-olm",children:"Apply the WatsonX.AI OLM:"}),"\n",(0,a.jsx)(n.p,{children:"To install the WatsonX.AI OLMs:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"cpd-cli manage apply-olm \\\n--release=${VERSION} \\\n--cpd_operator_ns=${PROJECT_CPD_INST_OPERATORS} \\\n--components=watsonx_ai \\\n--case_download=true \\\n--from_oci=true\n"})}),"\n",(0,a.jsx)(n.h3,{id:"apply-the-watsonxai-cr",children:"Apply the WatsonX.AI CR:"}),"\n",(0,a.jsx)(n.p,{children:"To install WatsonX.AI run the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"cpd-cli manage apply-cr \\\n--components=watsonx_ai \\\n--release=${VERSION} \\\n--cpd_instance_ns=${PROJECT_CPD_INST_OPERANDS} \\\n--block_storage_class=${STG_CLASS_BLOCK} \\\n--file_storage_class=${STG_CLASS_FILE} \\\n--license_acceptance=true \\\n--case_download=true \\\n--from_oci=true\n"})}),"\n",(0,a.jsx)(n.h3,{id:"install-additional-models",children:"Install Additional Models:"}),"\n",(0,a.jsx)(n.p,{children:"This installs the following models:"}),"\n",(0,a.jsx)(n.p,{children:"granite-13b-instruct-v2\nllama-2-70b-chat\nmixtral-8x7b-instruct-v01-q"}),"\n",(0,a.jsx)(n.p,{children:"Run the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'oc patch watsonxaiifm watsonxaiifm-cr \\\n--namespace=${PROJECT_CPD_INST_OPERANDS} \\\n--type=merge \\\n--patch=\'{"spec":{"install_model_list": ["ibm-mistralai-mixtral-8x7b-instruct-v01-q","ibm-granite-13b-chat-v2","meta-llama-llama-2-70b-chat"]}}\'\n'})})]})}function p(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>s,a:()=>i});var a=t(7294);const l={},o=a.createContext(l);function i(e){const n=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);