<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Log 10 ðŸ›« | IBM Client Engineering</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ibm-client-engineering.github.io/solution-wxai-aws/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ibm-client-engineering.github.io/solution-wxai-aws/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ibm-client-engineering.github.io/solution-wxai-aws/blog/flight-log-10"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="keywords" content="ibm client engineering, open solutions library,  filenet, eks, aws, cp4ba, filenet on aws eks"><meta data-rh="true" property="og:title" content="Log 10 ðŸ›« | IBM Client Engineering"><meta data-rh="true" name="description" content="Flight Log of Co-Creation Activities"><meta data-rh="true" property="og:description" content="Flight Log of Co-Creation Activities"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-03-26T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="log"><link data-rh="true" rel="icon" href="/solution-wxai-aws/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ibm-client-engineering.github.io/solution-wxai-aws/blog/flight-log-10"><link data-rh="true" rel="alternate" href="https://ibm-client-engineering.github.io/solution-wxai-aws/blog/flight-log-10" hreflang="en"><link data-rh="true" rel="alternate" href="https://ibm-client-engineering.github.io/solution-wxai-aws/blog/flight-log-10" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/solution-wxai-aws/blog/rss.xml" title="IBM Client Engineering RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/solution-wxai-aws/blog/atom.xml" title="IBM Client Engineering Atom Feed">






<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GB0XWXF3GE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GB0XWXF3GE",{anonymize_ip:!0})</script><link rel="stylesheet" href="/solution-wxai-aws/assets/css/styles.666c8f47.css">
<script src="/solution-wxai-aws/assets/js/runtime~main.38ce856e.js" defer="defer"></script>
<script src="/solution-wxai-aws/assets/js/main.a492fb85.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/solution-wxai-aws/"><div class="navbar__logo"><img src="/solution-wxai-aws/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="200" width="200"><img src="/solution-wxai-aws/img/logo-dark.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="200" width="200"></div><b class="navbar__title text--truncate">| IBM Solution Document for watsonx.ai on AWS</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/solution-wxai-aws/">Flight Path</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/solution-wxai-aws/blog">Flight Logs</a><a href="https://github.com/ibm-client-engineering/solution-wxai-aws" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All our logs</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/solution-wxai-aws/blog/flight-log-10">Log 10 ðŸ›«</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/solution-wxai-aws/blog/flight-log-9">Log 9 ðŸ›«</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/solution-wxai-aws/blog/flight-log-8">Log 8 ðŸ›«</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/solution-wxai-aws/blog/flight-log-7">Log 7 ðŸ›«</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/solution-wxai-aws/blog/flight-log-6">Log 6 ðŸ›«</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/solution-wxai-aws/blog/flight-log-5">Log 5 ðŸ›«</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/solution-wxai-aws/blog/flight-log-4">Log 4 ðŸ›«</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/solution-wxai-aws/blog/flight-log-3">Log 3 ðŸ›«</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/solution-wxai-aws/blog/flight-log-2">Log 2 ðŸ›«</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/solution-wxai-aws/blog/flight-log-1">Log 1 ðŸ›«</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Flight Log of Co-Creation Activities"><header><h1 class="title_f1Hy" itemprop="headline">Log 10 ðŸ›«</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-03-26T00:00:00.000Z" itemprop="datePublished">March 26, 2024</time> Â· <!-- -->5 min read</div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="objective">Objective<a href="#objective" class="hash-link" aria-label="Direct link to Objective" title="Direct link to Objective">â€‹</a></h2>
<p>Deploy watsonx.ai on self-managed AWS infrastructure forr customer software evaluation</p>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="milestones">Milestones<a href="#milestones" class="hash-link" aria-label="Direct link to Milestones" title="Direct link to Milestones">â€‹</a></h2>
<ol>
<li>Deploy and configuration of boot node to establish a beach-head into the Fidelity AWS environment<!-- -->
<ul>
<li>Complete</li>
</ul>
</li>
<li>Deploy OCP using the documented UPI installation steps<!-- -->
<ul>
<li>In progress</li>
</ul>
</li>
<li>Install CloudPak for Data</li>
<li>Deploy and configure watsonx.ai on self-managed AWS infrastructure</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="todays-accomplishments">Today&#x27;s Accomplishments<a href="#todays-accomplishments" class="hash-link" aria-label="Direct link to Today&#x27;s Accomplishments" title="Direct link to Today&#x27;s Accomplishments">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="validation-of-current-deployment-status">Validation of current deployment status<a href="#validation-of-current-deployment-status" class="hash-link" aria-label="Direct link to Validation of current deployment status" title="Direct link to Validation of current deployment status">â€‹</a></h3>
<ul>
<li>
<p>Verify â€˜quay.ioâ€™ is the registry in config.sh</p>
<ul>
<li>Verified in the registry</li>
</ul>
</li>
<li>
<p>Add <code>/usr/local/bin</code> to <code>.bashrc</code> and <code>.bash_profile</code> for root</p>
</li>
<li>
<p>Create a small instance on a different subnet, same VPC, and confirm that IP can be curled. Make require adjusting the Security Group rules for the bootnode. If 8080 fails, then HTTPD config will need be to changed to port 80 and service restarted</p>
<ul>
<li>Initial onnectectivity over port 8080 failed</li>
<li>Fixed by opening port via security group</li>
</ul>
</li>
<li>
<p>Changed certificate organization (O) to match the domain</p>
</li>
<li>
<p>Cert validated vurrent certificate using output of <code>openssl x509 -in /ibm/security/certs/ca.crt -text -noout</code></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">Issuer: C = US, O = ec2.internal, CN = CA</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Subject: C = US, O = ec2.internal, CN = CA</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Changed to</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">Issuer: C = US, O = `customer domain name`, CN = CA</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Subject: C = US, O =  `customer domain name`, CN = CA</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="script-attempts">Script Attempts<a href="#script-attempts" class="hash-link" aria-label="Direct link to Script Attempts" title="Direct link to Script Attempts">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cleanup-steps">Cleanup Steps<a href="#cleanup-steps" class="hash-link" aria-label="Direct link to Cleanup Steps" title="Direct link to Cleanup Steps">â€‹</a></h4>
<ul>
<li>Remove metadata file from &quot;wxai&quot; directory</li>
<li>Delete stacks created</li>
<li>Ignore initial &quot;FATAL&quot; error logged</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="attempt-1">Attempt 1<a href="#attempt-1" class="hash-link" aria-label="Direct link to Attempt 1" title="Direct link to Attempt 1">â€‹</a></h4>
<ul>
<li>Running <code>create_cluster_step_1.sh</code>
<ul>
<li>Applied required security tagging, as customer&#x27;s security scans &quot;remediate&quot; (delete) improperly tagged items</li>
<li>Depoyment script changes<!-- -->
<ul>
<li>Changed resource types and sizes. Example: <code>gp2 -&gt; gpt3</code></li>
</ul>
</li>
<li>Renaming &quot;bootnode&quot; nomenclature to bastion host <code>bastion.&#x27;basedomain&#x27;</code></li>
<li>Renamed certificate organization to match customer domain</li>
</ul>
</li>
<li>Reran create registry script</li>
<li>Proceeded with DNS steps for new Elastic Load Balencer from prevous script</li>
<li>Running <code>create_cluster_step_2.sh</code>
<ul>
<li>Bootstrap Error<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">Every Parameters object must contain a Type member</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">An error occurred (ValidationError) when calling the DescribeStacks operation: Stack with id ibmwxai-6wvkv-bootstrap-stack does not exist</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Solution - Needed to add Type string for parameter<!-- -->
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token key atrule" style="color:#FAC863">BootstrapIgnitionLocation</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token key atrule" style="color:#FAC863">Default</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> s3</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain">//my</span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain">s3</span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain">bucket/bootstrap.ign</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token key atrule" style="color:#FAC863">Description</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> Ignition config file location.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token key atrule" style="color:#FAC863">Type</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> String </span><span class="token comment" style="color:#999999">### This line was not here</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="attempt-2">Attempt 2<a href="#attempt-2" class="hash-link" aria-label="Direct link to Attempt 2" title="Direct link to Attempt 2">â€‹</a></h4>
<ul>
<li>AMI Error (repeat)<!-- -->
<ul>
<li>Cause: Customer security team denies all public AMI access</li>
<li>Fixed: Customer approved public AMI usage (for our specific AMI ID for the CoreOS)</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="attempt-3">Attempt 3<a href="#attempt-3" class="hash-link" aria-label="Direct link to Attempt 3" title="Direct link to Attempt 3">â€‹</a></h4>
<ul>
<li>yaml validation error (new)
<code>Parameter validation failed: parameter value for parameter name Master1Subnet does not exist. Rollback requested by user</code>
<ul>
<li>Investigated why script is not generating parameter for <code>Master1Subnet</code></li>
<li>Fix: Typo found in script create_control_plane_param.sh - masters1ubnet -&gt; master1subnet</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="attempt-4">Attempt 4<a href="#attempt-4" class="hash-link" aria-label="Direct link to Attempt 4" title="Direct link to Attempt 4">â€‹</a></h4>
<ul>
<li>Notified of non-compliance during attempt via email from customer security to customer host<!-- -->
<ol>
<li>
<p>Rule Formatting</p>
<ul>
<li>Summary: Automated customer security scan &quot;remediation&quot; removed non-compliant security groups on bootstrap and master (Ingress and Egress)</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">Security Event: Security Group with Unapproved Egress. The security group non-compliant egress rules have been deleted. Please check your application to ensure the functionality has not been negatively impacted.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">Security Event: Security Group with Unapproved Ingress. The security group non-compliant ingress rules have been deleted. Please check your application to ensure the functionality has not been negatively impacted.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>LB template currently assuming public in sg-lb-template.yaml, bootstrap-template.yaml</li>
</ul>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token key atrule" style="color:#FAC863">CidrIp</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> 0.0.0.0/0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Fix: CidrIps need to be replaced with proper public format per customer security</li>
</ul>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"># Replace all instances of 0.0.0.0/0 with</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token key atrule" style="color:#FAC863">CidrIp</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> 10.0.0.0/8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Encryption Requirements</p>
<ul>
<li>All volumes must be encrypted</li>
<li>Fix: Cloudforms template must be updated to create encrypted resources</li>
</ul>
</li>
</ol>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="attempt-5">Attempt 5<a href="#attempt-5" class="hash-link" aria-label="Direct link to Attempt 5" title="Direct link to Attempt 5">â€‹</a></h4>
<ul>
<li>Redeployment cleanup steps</li>
<li>Running <code>create_cluster_step_1.sh</code>
<ul>
<li>Successful</li>
</ul>
</li>
<li>Capture DNS output</li>
<li>Add DNS output to config</li>
<li>Running <code>create_cluster_step_1.sh</code></li>
<li>Running <code>create_cluster_step_2.sh</code>
<ul>
<li>Customer had a hard stop for the day. Awaiting feedback for next session</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="decisions-and-action-items-dai">Decisions and Action Items (DAI)<a href="#decisions-and-action-items-dai" class="hash-link" aria-label="Direct link to Decisions and Action Items (DAI)" title="Direct link to Decisions and Action Items (DAI)">â€‹</a></h2>
<ul>
<li>Adding creation of the ssh key as root user on the bastion node</li>
<li>CoreOS AMI approval from customer (Public AMI&#x27;s are blocked)<!-- -->
<ul>
<li>AMI approved, step 2 script succeeded AMI portion</li>
</ul>
</li>
<li>Action Items: Customer security policies<!-- -->
<ul>
<li>Ongoing: Port rule formatting<!-- -->
<ul>
<li>Aligning to customer-determined security policies for port formating (Example: Using 10.0.0.0/8 instead of 0.0.0.0/0)</li>
</ul>
</li>
<li>Cleared: Role authorizations</li>
</ul>
</li>
<li>Software evaluation licenses for CP4D and watsonx.ai<!-- -->
<ul>
<li>Pending IBM precurment team approval</li>
</ul>
</li>
<li>Potential Proxy Configuration Error<!-- -->
<ul>
<li>Prepared code changes for <code>create_cluster_step_2.sh</code> next session</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps">â€‹</a></h2>
<ul>
<li>License and configure Cloud Pak for Data<!-- -->
<ul>
<li>Cloud Pak Considerations<!-- -->
<ul>
<li>Security scans needed on container images</li>
<li>Customer requires on-prem, offline install</li>
<li>Customer uses their own container registry that might introduce extra effort or compatability issues</li>
<li>Version compatibility with OpenShift (e.g. 4.10 required and customer has 4.11)</li>
<li>Supported storage not available</li>
<li>Multiple cloudpaks on the same cluster</li>
<li>custom connections to data sources not supported OOTB</li>
<li>AWS-specific: IAM users required for install/deploy and are not allowed</li>
<li>OpenShift specific: CoreOS requirement for control nodes</li>
<li>Automatic updating of Cloud Pak, this can interrupt engagements (solution is to always remove update polling from operators)</li>
</ul>
</li>
</ul>
</li>
<li>Deploy watsonx.ai</li>
</ul></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/solution-wxai-aws/blog/tags/log">log</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/ibm-client-engineering/solution-wxai-aws/edit/main/${blogDirPath}/${blogPath}" target="_blank" rel="noreferrer noopener" class="ThemeClassNames.common.editThisPage editThisPage_U9Uk">Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/solution-wxai-aws/blog/flight-log-9"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Log 9 ðŸ›«</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#objective" class="table-of-contents__link toc-highlight">Objective</a></li><li><a href="#milestones" class="table-of-contents__link toc-highlight">Milestones</a></li><li><a href="#todays-accomplishments" class="table-of-contents__link toc-highlight">Today&#39;s Accomplishments</a><ul><li><a href="#validation-of-current-deployment-status" class="table-of-contents__link toc-highlight">Validation of current deployment status</a></li><li><a href="#script-attempts" class="table-of-contents__link toc-highlight">Script Attempts</a><ul><li><a href="#cleanup-steps" class="table-of-contents__link toc-highlight">Cleanup Steps</a></li><li><a href="#attempt-1" class="table-of-contents__link toc-highlight">Attempt 1</a></li><li><a href="#attempt-2" class="table-of-contents__link toc-highlight">Attempt 2</a></li><li><a href="#attempt-3" class="table-of-contents__link toc-highlight">Attempt 3</a></li><li><a href="#attempt-4" class="table-of-contents__link toc-highlight">Attempt 4</a></li><li><a href="#attempt-5" class="table-of-contents__link toc-highlight">Attempt 5</a></li></ul></li></ul></li><li><a href="#decisions-and-action-items-dai" class="table-of-contents__link toc-highlight">Decisions and Action Items (DAI)</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Explore</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.ibm.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM</a></li><li class="footer__item"><a href="https://www.ibm.com/client-engineering" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM Client Engineering - Open Solutions Library</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://ibm.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="https://upload.wikimedia.org/wikipedia/commons/5/51/IBM_logo.svg" alt="IBM Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="150" height="150"><img src="https://upload.wikimedia.org/wikipedia/commons/5/51/IBM_logo.svg" alt="IBM Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="150" height="150"></a></div></div></div></footer></div>
</body>
</html>