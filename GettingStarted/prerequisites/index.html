<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-GettingStarted/prerequisites" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Prerequisites | IBM Client Engineering</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ibm-client-engineering.github.io/solution-wxai-aws/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ibm-client-engineering.github.io/solution-wxai-aws/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ibm-client-engineering.github.io/solution-wxai-aws/GettingStarted/prerequisites"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="ibm client engineering, open solutions library,  filenet, eks, aws, cp4ba, filenet on aws eks"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Prerequisites | IBM Client Engineering"><meta data-rh="true" name="description" content="Installing OpenShift and Cloud Pak for Data requires specific access, resources and considerations on AWS. In this documentation, we are assuming a CloudFormation install on user-provisioned infrastructure."><meta data-rh="true" property="og:description" content="Installing OpenShift and Cloud Pak for Data requires specific access, resources and considerations on AWS. In this documentation, we are assuming a CloudFormation install on user-provisioned infrastructure."><link data-rh="true" rel="icon" href="/solution-wxai-aws/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ibm-client-engineering.github.io/solution-wxai-aws/GettingStarted/prerequisites"><link data-rh="true" rel="alternate" href="https://ibm-client-engineering.github.io/solution-wxai-aws/GettingStarted/prerequisites" hreflang="en"><link data-rh="true" rel="alternate" href="https://ibm-client-engineering.github.io/solution-wxai-aws/GettingStarted/prerequisites" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/solution-wxai-aws/blog/rss.xml" title="IBM Client Engineering RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/solution-wxai-aws/blog/atom.xml" title="IBM Client Engineering Atom Feed">






<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GB0XWXF3GE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GB0XWXF3GE",{anonymize_ip:!0})</script><link rel="stylesheet" href="/solution-wxai-aws/assets/css/styles.666c8f47.css">
<script src="/solution-wxai-aws/assets/js/runtime~main.7924df6e.js" defer="defer"></script>
<script src="/solution-wxai-aws/assets/js/main.f3405c4a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/solution-wxai-aws/"><div class="navbar__logo"><img src="/solution-wxai-aws/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="200" width="200"><img src="/solution-wxai-aws/img/logo-dark.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="200" width="200"></div><b class="navbar__title text--truncate">| IBM Solution Document for watsonx.ai on AWS</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/solution-wxai-aws/">Flight Path</a><a class="navbar__item navbar__link" href="/solution-wxai-aws/blog">Flight Logs</a><a href="https://github.com/ibm-client-engineering/solution-wxai-aws" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/solution-wxai-aws/">watsonx.ai on AWS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/solution-wxai-aws/gettingstarted">Getting Started</a><button aria-label="Collapse sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-wxai-aws/GettingStarted/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/solution-wxai-aws/GettingStarted/prerequisites">Prerequisites</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-wxai-aws/GettingStarted/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-wxai-aws/GettingStarted/4-Lessons">Lessons Learned</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/solution-wxai-aws/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/solution-wxai-aws/gettingstarted"><span itemprop="name">Getting Started</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Prerequisites</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Prerequisites</h1></header><p>Installing OpenShift and Cloud Pak for Data requires specific access, resources and considerations on AWS. In this documentation, we are assuming a CloudFormation install on user-provisioned infrastructure.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ocp-deployment-requirements">OCP Deployment Requirements<a href="#ocp-deployment-requirements" class="hash-link" aria-label="Direct link to OCP Deployment Requirements" title="Direct link to OCP Deployment Requirements">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="required-iam-user">Required IAM User<a href="#required-iam-user" class="hash-link" aria-label="Direct link to Required IAM User" title="Direct link to Required IAM User">​</a></h3>
<p>Each Amazon Web Services (AWS) account contains a root user account that is based on the email address you used to create the account. This is a highly-privileged account, and it is recommended to use it for only initial account and billing configuration, creating an initial set of users, and securing the account. Before you install OpenShift Container Platform, create a secondary IAM administrative user. As you complete the Creating an IAM User in Your AWS Account procedure in the AWS documentation, set the following options:</p>
<ol>
<li>
<p>Specify the IAM user name and select Programmatic access.</p>
</li>
<li>
<p>Attach the AdministratorAccess policy to ensure that the account has sufficient permission to create the cluster. This policy provides the cluster with the ability to grant credentials to each OpenShift Container Platform component. The cluster grants the components only the credentials that they require.</p>
</li>
</ol>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>While it is possible to create a policy that grants the all of the required AWS permissions and attach it to the user, this is not the preferred option. <strong>The cluster will not have the ability to grant additional credentials to individual components, so the same credentials are used by all components.</strong></p></div></div>
<ol start="3">
<li>
<p>Optional: Add metadata to the user by attaching tags.</p>
</li>
<li>
<p>Confirm that the user name that you specified is granted the AdministratorAccess policy.</p>
</li>
<li>
<p>Record the access key ID and secret access key values. You must use these values when you configure your local machine to run the installation program.</p>
</li>
</ol>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>You cannot use a temporary session token that you generated while using a multi-factor authentication device to authenticate to AWS when you deploy a cluster. The cluster continues to use your current AWS credentials to create AWS resources for the entire life of the cluster, so you must use key-based, long-term credentials.</p></div></div>
<p>Your IAM user must have the permission tag<!-- -->:GetResources<!-- --> in the region us-east-1 to delete the base cluster resources. As part of the AWS API requirement, the OpenShift Container Platform installation program performs various actions in this region.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>When you attach the AdministratorAccess policy to the IAM user that you create in Amazon Web Services (AWS), you grant that user all of the required permissions.</p></div></div>
<p>To deploy all components of an OpenShift Container Platform cluster, the IAM user requires the following permissions:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="required-permissions-if-not-using-administrator-access">Required Permissions (if not using Administrator Access)<a href="#required-permissions-if-not-using-administrator-access" class="hash-link" aria-label="Direct link to Required Permissions (if not using Administrator Access)" title="Direct link to Required Permissions (if not using Administrator Access)">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Required EC2 permissions for installation</b></summary><div><div class="collapsibleContent_i85q"><p>ec2<!-- -->:AuthorizeSecurityGroupEgress</p><p>ec2<!-- -->:AuthorizeSecurityGroupIngress</p><p>ec2<!-- -->:CopyImage</p><p>ec2<!-- -->:CreateNetworkInterface</p><p>ec2<!-- -->:AttachNetworkInterface</p><p>ec2<!-- -->:CreateSecurityGroup</p><p>ec2<!-- -->:CreateTags</p><p>ec2<!-- -->:CreateVolume</p><p>ec2<!-- -->:DeleteSecurityGroup</p><p>ec2<!-- -->:DeleteSnapshot</p><p>ec2<!-- -->:DeleteTags</p><p>ec2<!-- -->:DeregisterImage</p><p>ec2<!-- -->:DescribeAccountAttributes</p><p>ec2<!-- -->:DescribeAddresses</p><p>ec2<!-- -->:DescribeAvailabilityZones</p><p>ec2<!-- -->:DescribeDhcpOptions</p><p>ec2<!-- -->:DescribeImages</p><p>ec2<!-- -->:DescribeInstanceAttribute</p><p>ec2<!-- -->:DescribeInstanceCreditSpecifications</p><p>ec2<!-- -->:DescribeInstances</p><p>ec2<!-- -->:DescribeInstanceTypes</p><p>ec2<!-- -->:DescribeInternetGateways</p><p>ec2<!-- -->:DescribeKeyPairs</p><p>ec2<!-- -->:DescribeNatGateways</p><p>ec2<!-- -->:DescribeNetworkAcls</p><p>ec2<!-- -->:DescribeNetworkInterfaces</p><p>ec2<!-- -->:DescribePrefixLists</p><p>ec2<!-- -->:DescribeRegions</p><p>ec2<!-- -->:DescribeRouteTables</p><p>ec2<!-- -->:DescribeSecurityGroups</p><p>ec2<!-- -->:DescribeSubnets</p><p>ec2<!-- -->:DescribeTags</p><p>ec2<!-- -->:DescribeVolumes</p><p>ec2<!-- -->:DescribeVpcAttribute</p><p>ec2<!-- -->:DescribeVpcClassicLink</p><p>ec2<!-- -->:DescribeVpcClassicLinkDnsSupport</p><p>ec2<!-- -->:DescribeVpcEndpoints</p><p>ec2<!-- -->:DescribeVpcs</p><p>ec2<!-- -->:GetEbsDefaultKmsKeyId</p><p>ec2<!-- -->:ModifyInstanceAttribute</p><p>ec2<!-- -->:ModifyNetworkInterfaceAttribute</p><p>ec2<!-- -->:RevokeSecurityGroupEgress</p><p>ec2<!-- -->:RevokeSecurityGroupIngress</p><p>ec2<!-- -->:RunInstances</p><p>ec2<!-- -->:TerminateInstances</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Required permissions for creating network resources during installation</b></summary><div><div class="collapsibleContent_i85q"><p>ec2<!-- -->:AllocateAddress</p><p>ec2<!-- -->:AssociateAddress</p><p>ec2<!-- -->:AssociateDhcpOptions</p><p>ec2<!-- -->:AssociateRouteTable</p><p>ec2<!-- -->:AttachInternetGateway</p><p>ec2<!-- -->:CreateDhcpOptions</p><p>ec2<!-- -->:CreateInternetGateway</p><p>ec2<!-- -->:CreateNatGateway</p><p>ec2<!-- -->:CreateRoute</p><p>ec2<!-- -->:CreateRouteTable</p><p>ec2<!-- -->:CreateSubnet</p><p>ec2<!-- -->:CreateVpc</p><p>ec2<!-- -->:CreateVpcEndpoint</p><p>ec2<!-- -->:ModifySubnetAttribute</p><p>ec2<!-- -->:ModifyVpcAttribute</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If you use an existing VPC, your account does not require these permissions for creating network resources.</p></div></div></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Required Elastic Load Balancing permissions (ELB) for installation</b></summary><div><div class="collapsibleContent_i85q"><p>elasticloadbalancing<!-- -->:AddTags</p><p>elasticloadbalancing<!-- -->:ApplySecurityGroupsToLoadBalancer</p><p>elasticloadbalancing<!-- -->:AttachLoadBalancerToSubnets</p><p>elasticloadbalancing<!-- -->:ConfigureHealthCheck</p><p>elasticloadbalancing<!-- -->:CreateLoadBalancer</p><p>elasticloadbalancing<!-- -->:CreateLoadBalancerListeners</p><p>elasticloadbalancing<!-- -->:DeleteLoadBalancer</p><p>elasticloadbalancing<!-- -->:DeregisterInstancesFromLoadBalancer</p><p>elasticloadbalancing<!-- -->:DescribeInstanceHealth</p><p>elasticloadbalancing<!-- -->:DescribeLoadBalancerAttributes</p><p>elasticloadbalancing<!-- -->:DescribeLoadBalancers</p><p>elasticloadbalancing<!-- -->:DescribeTags</p><p>elasticloadbalancing<!-- -->:ModifyLoadBalancerAttributes</p><p>elasticloadbalancing<!-- -->:RegisterInstancesWithLoadBalancer</p><p>elasticloadbalancing<!-- -->:SetLoadBalancerPoliciesOfListener</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Required Elastic Load Balancing permissions (ELBv2) for installation</b></summary><div><div class="collapsibleContent_i85q"><p>elasticloadbalancing<!-- -->:AddTags</p><p>elasticloadbalancing<!-- -->:CreateListener</p><p>elasticloadbalancing<!-- -->:CreateLoadBalancer</p><p>elasticloadbalancing<!-- -->:CreateTargetGroup</p><p>elasticloadbalancing<!-- -->:DeleteLoadBalancer</p><p>elasticloadbalancing<!-- -->:DeregisterTargets</p><p>elasticloadbalancing<!-- -->:DescribeListeners</p><p>elasticloadbalancing<!-- -->:DescribeLoadBalancerAttributes</p><p>elasticloadbalancing<!-- -->:DescribeLoadBalancers</p><p>elasticloadbalancing<!-- -->:DescribeTargetGroupAttributes</p><p>elasticloadbalancing<!-- -->:DescribeTargetHealth</p><p>elasticloadbalancing<!-- -->:ModifyLoadBalancerAttributes</p><p>elasticloadbalancing<!-- -->:ModifyTargetGroup</p><p>elasticloadbalancing<!-- -->:ModifyTargetGroupAttributes</p><p>elasticloadbalancing<!-- -->:RegisterTargets</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Required IAM permissions for installation</b></summary><div><div class="collapsibleContent_i85q"><p>iam<!-- -->:AddRoleToInstanceProfile</p><p>iam<!-- -->:CreateInstanceProfile</p><p>iam<!-- -->:CreateRole</p><p>iam<!-- -->:DeleteInstanceProfile</p><p>iam<!-- -->:DeleteRole</p><p>iam<!-- -->:DeleteRolePolicy</p><p>iam<!-- -->:GetInstanceProfile</p><p>iam<!-- -->:GetRole</p><p>iam<!-- -->:GetRolePolicy</p><p>iam<!-- -->:GetUser</p><p>iam<!-- -->:ListInstanceProfilesForRole</p><p>iam<!-- -->:ListRoles</p><p>iam<!-- -->:ListUsers</p><p>iam<!-- -->:PassRole</p><p>iam<!-- -->:PutRolePolicy</p><p>iam<!-- -->:RemoveRoleFromInstanceProfile</p><p>iam<!-- -->:SimulatePrincipalPolicy</p><p>iam<!-- -->:TagRole</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If you have not created a load balancer in your AWS account, the IAM user also requires the iam<!-- -->:CreateServiceLinkedRole<!-- --> permission.</p></div></div></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Required Route 53 permissions for installation</b></summary><div><div class="collapsibleContent_i85q"><p>route53<!-- -->:ChangeResourceRecordSets</p><p>route53<!-- -->:ChangeTagsForResource</p><p>route53<!-- -->:CreateHostedZone</p><p>route53<!-- -->:DeleteHostedZone</p><p>route53<!-- -->:GetChange</p><p>route53<!-- -->:GetHostedZone</p><p>route53<!-- -->:ListHostedZones</p><p>route53<!-- -->:ListHostedZonesByName</p><p>route53<!-- -->:ListResourceRecordSets</p><p>route53<!-- -->:ListTagsForResource</p><p>route53<!-- -->:UpdateHostedZoneComment</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Required S3 permissions for installation</b></summary><div><div class="collapsibleContent_i85q"><p>s3<!-- -->:CreateBucket</p><p>s3<!-- -->:DeleteBucket</p><p>s3<!-- -->:GetAccelerateConfiguration</p><p>s3<!-- -->:GetBucketAcl</p><p>s3<!-- -->:GetBucketCors</p><p>s3<!-- -->:GetBucketLocation</p><p>s3<!-- -->:GetBucketLogging</p><p>s3<!-- -->:GetBucketPolicy</p><p>s3<!-- -->:GetBucketObjectLockConfiguration</p><p>s3<!-- -->:GetBucketRequestPayment</p><p>s3<!-- -->:GetBucketTagging</p><p>s3<!-- -->:GetBucketVersioning</p><p>s3<!-- -->:GetBucketWebsite</p><p>s3<!-- -->:GetEncryptionConfiguration</p><p>s3<!-- -->:GetLifecycleConfiguration</p><p>s3<!-- -->:GetReplicationConfiguration</p><p>s3<!-- -->:ListBucket</p><p>s3<!-- -->:PutBucketAcl</p><p>s3<!-- -->:PutBucketTagging</p><p>s3<!-- -->:PutEncryptionConfiguration</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>S3 permissions that cluster Operators required</b></summary><div><div class="collapsibleContent_i85q"><p>s3<!-- -->:DeleteObject</p><p>s3<!-- -->:GetObject</p><p>s3<!-- -->:GetObjectAcl</p><p>s3<!-- -->:GetObjectTagging</p><p>s3<!-- -->:GetObjectVersion</p><p>s3<!-- -->:PutObject</p><p>s3<!-- -->:PutObjectAcl</p><p>s3<!-- -->:PutObjectTagging</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Required permissions to delete base cluster resources</b></summary><div><div class="collapsibleContent_i85q"><p>autoscaling<!-- -->:DescribeAutoScalingGroups</p><p>ec2<!-- -->:DeletePlacementGroup</p><p>ec2<!-- -->:DeleteNetworkInterface</p><p>ec2<!-- -->:DeleteVolume</p><p>elasticloadbalancing<!-- -->:DeleteTargetGroup</p><p>elasticloadbalancing<!-- -->:DescribeTargetGroups</p><p>iam<!-- -->:DeleteAccessKey</p><p>iam<!-- -->:DeleteUser</p><p>iam<!-- -->:ListAttachedRolePolicies</p><p>iam<!-- -->:ListInstanceProfiles</p><p>iam<!-- -->:ListRolePolicies</p><p>iam<!-- -->:ListUserPolicies</p><p>s3<!-- -->:DeleteObject</p><p>s3<!-- -->:ListBucketVersions</p><p>tag<!-- -->:GetResources</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Required permissions to delete network resources</b></summary><div><div class="collapsibleContent_i85q"><p>ec2<!-- -->:DeleteDhcpOptions</p><p>ec2<!-- -->:DeleteInternetGateway</p><p>ec2<!-- -->:DeleteNatGateway</p><p>ec2<!-- -->:DeleteRoute</p><p>ec2<!-- -->:DeleteRouteTable</p><p>ec2<!-- -->:DeleteSubnet</p><p>ec2<!-- -->:DeleteVpc</p><p>ec2<!-- -->:DeleteVpcEndpoints</p><p>ec2<!-- -->:DetachInternetGateway</p><p>ec2<!-- -->:DisassociateRouteTable</p><p>ec2<!-- -->:ReleaseAddress</p><p>ec2<!-- -->:ReplaceRouteTableAssociation</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If you use an existing VPC, your account does not require these permissions to delete network resources. Instead, your account only requires the tag<!-- -->:UntagResources<!-- --> permission to delete network resources.</p></div></div></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Required permissions to delete a cluster with shared instance roles</b></summary><div><div class="collapsibleContent_i85q"><p>iam<!-- -->:UntagRole</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Additional IAM and S3 permissions that are required to create manifests</b></summary><div><div class="collapsibleContent_i85q"><p>iam<!-- -->:DeleteAccessKey</p><p>iam<!-- -->:DeleteUser</p><p>iam<!-- -->:DeleteUserPolicy</p><p>iam<!-- -->:GetUserPolicy</p><p>iam<!-- -->:ListAccessKeys</p><p>iam<!-- -->:PutUserPolicy</p><p>iam<!-- -->:TagUser</p><p>s3<!-- -->:PutBucketPublicAccessBlock</p><p>s3<!-- -->:GetBucketPublicAccessBlock</p><p>s3<!-- -->:PutLifecycleConfiguration</p><p>s3<!-- -->:HeadBucket</p><p>s3<!-- -->:ListBucketMultipartUploads</p><p>s3<!-- -->:AbortMultipartUpload</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If you are managing your cloud provider credentials with mint mode, the IAM user also requires the iam<!-- -->:CreateAccessKey<!-- --> and iam<!-- -->:CreateUser<!-- --> permissions.</p></div></div></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Optional permissions for instance and quota checks for installation</b></summary><div><div class="collapsibleContent_i85q"><p>ec2<!-- -->:DescribeInstanceTypeOfferings</p><p>servicequotas<!-- -->:ListAWSDefaultServiceQuotas</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Optional permissions for the cluster owner account when installing a cluster on a shared VPC</b></summary><div><div class="collapsibleContent_i85q"><p>sts<!-- -->:AssumeRole</p></div></div></details>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>For more details on the IAM user requirements, see <a href="https://docs.openshift.com/container-platform/4.15/installing/installing_aws/installing-aws-account.html#installing-aws-account" target="_blank" rel="noopener noreferrer">https://docs.openshift.com/container-platform/4.15/installing/installing_aws/installing-aws-account.html#installing-aws-account</a></p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="aws-role-permissions-checker">AWS Role Permissions Checker<a href="#aws-role-permissions-checker" class="hash-link" aria-label="Direct link to AWS Role Permissions Checker" title="Direct link to AWS Role Permissions Checker">​</a></h4>
<p>Bash script that can be run on linux or OS X. Requires AWS CLI to be installed and configured.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Script user will need the following permissions:</p><ul>
<li>iam<!-- -->:SimulatePrincipalPolicy</li>
<li>iam<!-- -->:GetPolicy</li>
<li>iam<!-- -->:GetPolicyVersion</li>
</ul></div></div>
<p><a target="_blank" href="/solution-wxai-aws/assets/files/check-permissions-f4c970632ebe701718c6d88783916ece.sh"> Download the script </a></p>
<p>Or run the following commands:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">wget https://github.com/ibm-client-engineering/solution-wxai-aws/assets/script/check-permissions.sh</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">chmod +x check-permission.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To run the script you will need to download the &quot;permissions.txt&quot; file. <br>
<a href="https://github.com/ibm-client-engineering/solution-wxai-aws/assets/script/permissions.txt" target="_blank" rel="noopener noreferrer">Download permissions.txt </a></p>
<p>Script Syntax</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">./check-permissions.sh &lt;ROLE&gt; &lt;PERMISSIONS FILE&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The permissions file is long and will take a few minutes for the script to work through. The output from the script is a file named &quot;missing_permissions.txt&quot;.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="required-aws-infrastructure-components">Required AWS Infrastructure Components<a href="#required-aws-infrastructure-components" class="hash-link" aria-label="Direct link to Required AWS Infrastructure Components" title="Direct link to Required AWS Infrastructure Components">​</a></h3>
<p>To install OpenShift Container Platform on user-provisioned infrastructure in Amazon Web Services (AWS), you must manually create both the machines and their supporting infrastructure. For more information about the integration testing for different platforms, see the OpenShift Container Platform 4.x Tested Integrations page.</p>
<p>By using the provided CloudFormation templates, you can create stacks of AWS resources that represent the following components:</p>
<ul>
<li>An AWS Virtual Private Cloud (VPC)</li>
<li>Networking and load balancing components</li>
<li>Security groups and roles</li>
<li>An OpenShift Container Platform bootstrap node</li>
<li>OpenShift Container Platform control plane nodes</li>
<li>An OpenShift Container Platform compute node</li>
</ul>
<p>Alternatively, you can manually create the components or you can reuse existing infrastructure that meets the cluster requirements. Review the CloudFormation templates for more details about how the components interrelate.</p>
<p>Other infrastructure components:</p>
<ul>
<li>A VPC</li>
<li>DNS entries</li>
<li>Load balancers (classic or network) and listeners</li>
<li>A public and a private Route 53 zone</li>
<li>Security groups</li>
<li>IAM roles</li>
<li>S3 buckets</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="required-vpc-components">Required VPC Components<a href="#required-vpc-components" class="hash-link" aria-label="Direct link to Required VPC Components" title="Direct link to Required VPC Components">​</a></h4>
<p>You must provide a suitable VPC and subnets that allow communication to your machines:</p>
<table><thead><tr><th style="text-align:center">Component</th><th style="text-align:center">AWS type</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">VPC</td><td style="text-align:center"><code>AWS::EC2::VPC</code>      <code>AWS::EC2::VPCEndpoint</code></td><td style="text-align:center">You must provide a public VPC for the cluster to use. The VPC uses an endpoint that references the route tables for each subnet to improve communication with the registry that is hosted in S3.</td></tr><tr><td style="text-align:center">Public subnets</td><td style="text-align:center"><code>AWS::EC2::Subnet</code>      <code>AWS::EC2::SubnetNetworkAclAssociation</code></td><td style="text-align:center">Your VPC must have public subnets for between 1 and 3 availability zones and associate them with appropriate Ingress rules.</td></tr><tr><td style="text-align:center">Internet gateway</td><td style="text-align:center"><code>AWS::EC2::InternetGateway</code>      <code>AWS::EC2::VPCGatewayAttachment</code>      <code>AWS::EC2::RouteTable</code>      <code>AWS::EC2::Route</code>      <code>AWS::EC2::SubnetRouteTableAssociation</code>      <code>AWS::EC2::NatGateway</code>      <code>AWS::EC2::EIP</code></td><td style="text-align:center">You must have a public internet gateway, with public routes, attached  to the VPC. In the provided templates, each public subnet has a NAT gateway  with an EIP address. These NAT gateways allow cluster resources, like  private subnet instances, to reach the internet and are not required for  some restricted network or proxy scenarios.</td></tr><tr><td style="text-align:center">Network access control</td><td style="text-align:center"><code>AWS::EC2::NetworkAcl</code>      <code>AWS::EC2::NetworkAclEntry</code></td><td style="text-align:center">Required Ports: 80, 443, 22, 1024-65535, 0-65535</td></tr><tr><td style="text-align:center">Private subnets</td><td style="text-align:center"><code>AWS::EC2::Subnet</code>      <code>AWS::EC2::RouteTable</code>      <code>AWS::EC2::SubnetRouteTableAssociation</code></td><td style="text-align:center">Your VPC can have private subnets. The provided CloudFormation templates can create private subnets for between 1 and 3 availability zones. If you use private subnets, you must provide appropriate routes and tables for them.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="required-dns-and-load-balancing-components">Required DNS and load balancing components<a href="#required-dns-and-load-balancing-components" class="hash-link" aria-label="Direct link to Required DNS and load balancing components" title="Direct link to Required DNS and load balancing components">​</a></h4>
<p>Your DNS and load balancer configuration needs to use a public hosted zone and can use a private hosted zone similar to the one that the installation program uses if it provisions the cluster’s infrastructure. You must create a DNS entry that resolves to your load balancer. An entry for api.<code>cluster_name</code>.<code>domain</code> must point to the external load balancer, and an entry for api-int.<code>cluster_name</code>.<code>domain</code> must point to the internal load balancer.</p>
<p>The cluster also requires load balancers and listeners for port 6443, which are required for the Kubernetes API and its extensions, and port 22623, which are required for the Ignition config files for new machines. The targets will be the control plane nodes. Port 6443 must be accessible to both clients external to the cluster and nodes within the cluster. Port 22623 must be accessible to nodes within the cluster.</p>
<table><thead><tr><th style="text-align:center">Component</th><th style="text-align:center">AWS type</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">DNS</td><td style="text-align:center"><code>AWS::Route53::HostedZone</code></td><td style="text-align:center">The hosted zone for your internal DNS.</td></tr><tr><td style="text-align:center">Public load balancer</td><td style="text-align:center"><code>AWS::ElasticLoadBalancingV2::LoadBalancer</code></td><td style="text-align:center">The load balancer for your public subnets.</td></tr><tr><td style="text-align:center">External API server record</td><td style="text-align:center"><code>AWS::Route53::RecordSetGroup</code></td><td style="text-align:center">Alias records for the external API server.</td></tr><tr><td style="text-align:center">External listener</td><td style="text-align:center"><code>AWS::ElasticLoadBalancingV2::Listener</code></td><td style="text-align:center">A listener on port 6443 for the external load balancer.</td></tr><tr><td style="text-align:center">External target group</td><td style="text-align:center"><code>AWS::ElasticLoadBalancingV2::TargetGroup</code></td><td style="text-align:center">The target group for the external load balancer.</td></tr><tr><td style="text-align:center">Private load balancer</td><td style="text-align:center"><code>AWS::ElasticLoadBalancingV2::LoadBalancer</code></td><td style="text-align:center">The load balancer for your private subnets.</td></tr><tr><td style="text-align:center">Internal API server record</td><td style="text-align:center"><code>AWS::Route53::RecordSetGroup</code></td><td style="text-align:center">Alias records for the internal API server.</td></tr><tr><td style="text-align:center">Internal listener</td><td style="text-align:center"><code>AWS::ElasticLoadBalancingV2::Listener</code></td><td style="text-align:center">A listener on port 22623 for the internal load balancer.</td></tr><tr><td style="text-align:center">Internal target group</td><td style="text-align:center"><code>AWS::ElasticLoadBalancingV2::TargetGroup</code></td><td style="text-align:center">The target group for the internal load balancer.</td></tr><tr><td style="text-align:center">Internal listener</td><td style="text-align:center"><code>AWS::ElasticLoadBalancingV2::Listener</code></td><td style="text-align:center">A listener on port 6443 for the internal load balancer.</td></tr><tr><td style="text-align:center">Internal target group</td><td style="text-align:center"><code>AWS::ElasticLoadBalancingV2::TargetGroup</code></td><td style="text-align:center">The target group for the internal load balancer.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="required-security-groups">Required Security groups<a href="#required-security-groups" class="hash-link" aria-label="Direct link to Required Security groups" title="Direct link to Required Security groups">​</a></h4>
<p>The control plane and worker machines require access to the following ports:</p>
<table><thead><tr><th style="text-align:center">Group</th><th style="text-align:center">Type</th><th style="text-align:center">IP Protocol</th><th style="text-align:center">Port range</th></tr></thead><tbody><tr><td style="text-align:center">MasterSecurityGroup</td><td style="text-align:center"><code>AWS::EC2::SecurityGroup</code></td><td style="text-align:center">icmp</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">tcp</td><td style="text-align:center">22</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">tcp</td><td style="text-align:center">6443</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">tcp</td><td style="text-align:center">22623</td></tr><tr><td style="text-align:center">WorkerSecurityGroup</td><td style="text-align:center"><code>AWS::EC2::SecurityGroup</code></td><td style="text-align:center">icmp</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">tcp</td><td style="text-align:center">22</td></tr><tr><td style="text-align:center">BootstrapSecurityGroup</td><td style="text-align:center"><code>AWS::EC2::SecurityGroup</code></td><td style="text-align:center">tcp</td><td style="text-align:center">22</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">tcp</td><td style="text-align:center">19531</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="control-plane-ingress">Control plane Ingress<a href="#control-plane-ingress" class="hash-link" aria-label="Direct link to Control plane Ingress" title="Direct link to Control plane Ingress">​</a></h4>
<p>The control plane machines require the following Ingress groups. Each Ingress group is a <code>AWS::EC2::SecurityGroupIngress</code> resource.</p>
<table><thead><tr><th style="text-align:center">Group</th><th style="text-align:center">Type</th><th style="text-align:center">IP Protocol</th><th style="text-align:center">Port range</th></tr></thead><tbody><tr><td style="text-align:center">MasterSecurityGroup</td><td style="text-align:center"><code>AWS::EC2::SecurityGroup</code></td><td style="text-align:center">icmp</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">tcp</td><td style="text-align:center">22</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">tcp</td><td style="text-align:center">6443</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">tcp</td><td style="text-align:center">22623</td></tr><tr><td style="text-align:center">WorkerSecurityGroup</td><td style="text-align:center"><code>AWS::EC2::SecurityGroup</code></td><td style="text-align:center">icmp</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">tcp</td><td style="text-align:center">22</td></tr><tr><td style="text-align:center">BootstrapSecurityGroup</td><td style="text-align:center"><code>AWS::EC2::SecurityGroup</code></td><td style="text-align:center">tcp</td><td style="text-align:center">22</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">tcp</td><td style="text-align:center">19531</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="worker-ingress">Worker Ingress<a href="#worker-ingress" class="hash-link" aria-label="Direct link to Worker Ingress" title="Direct link to Worker Ingress">​</a></h4>
<p>The worker machines require the following Ingress groups. Each Ingress group is a <code>AWS::EC2::SecurityGroupIngress</code> resource.</p>
<table><thead><tr><th style="text-align:center">Group</th><th style="text-align:center">Type</th><th style="text-align:center">IP Protocol</th><th style="text-align:center">Port range</th></tr></thead><tbody><tr><td style="text-align:center">MasterSecurityGroup</td><td style="text-align:center"><code>AWS::EC2::SecurityGroup</code></td><td style="text-align:center">icmp</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">tcp</td><td style="text-align:center">22</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">tcp</td><td style="text-align:center">6443</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">tcp</td><td style="text-align:center">22623</td></tr><tr><td style="text-align:center">WorkerSecurityGroup</td><td style="text-align:center"><code>AWS::EC2::SecurityGroup</code></td><td style="text-align:center">icmp</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">tcp</td><td style="text-align:center">22</td></tr><tr><td style="text-align:center">BootstrapSecurityGroup</td><td style="text-align:center"><code>AWS::EC2::SecurityGroup</code></td><td style="text-align:center">tcp</td><td style="text-align:center">22</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">tcp</td><td style="text-align:center">19531</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-machines">Cluster machines<a href="#cluster-machines" class="hash-link" aria-label="Direct link to Cluster machines" title="Direct link to Cluster machines">​</a></h3>
<p>You need <code>AWS::EC2::Instance</code> objects for the following machines:</p>
<ul>
<li>A bootstrap machine. This machine is required during installation, but you can remove it after your cluster deploys.</li>
<li>Three control plane machines. The control plane machines are not governed by a control plane machine set.</li>
<li>Compute machines. You must create at least two compute machines, which are also known as worker machines, during installation. These machines are not governed by a compute machine set.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>For more information on OCP on AWS, see <a href="https://docs.openshift.com/container-platform/4.15/installing/installing_aws/installing-aws-user-infra.html" target="_blank" rel="noopener noreferrer">https://docs.openshift.com/container-platform/4.15/installing/installing_aws/installing-aws-user-infra.html</a>
The &quot;Minimum requirements&quot; section does not consider the watsonx.ai and related services, and is accounted for in this documentation</p></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/solution-wxai-aws/GettingStarted/architecture"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Architecture</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/solution-wxai-aws/GettingStarted/installation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Installation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ocp-deployment-requirements" class="table-of-contents__link toc-highlight">OCP Deployment Requirements</a><ul><li><a href="#required-iam-user" class="table-of-contents__link toc-highlight">Required IAM User</a><ul><li><a href="#required-permissions-if-not-using-administrator-access" class="table-of-contents__link toc-highlight">Required Permissions (if not using Administrator Access)</a></li><li><a href="#aws-role-permissions-checker" class="table-of-contents__link toc-highlight">AWS Role Permissions Checker</a></li></ul></li><li><a href="#required-aws-infrastructure-components" class="table-of-contents__link toc-highlight">Required AWS Infrastructure Components</a><ul><li><a href="#required-vpc-components" class="table-of-contents__link toc-highlight">Required VPC Components</a></li><li><a href="#required-dns-and-load-balancing-components" class="table-of-contents__link toc-highlight">Required DNS and load balancing components</a></li><li><a href="#required-security-groups" class="table-of-contents__link toc-highlight">Required Security groups</a></li><li><a href="#control-plane-ingress" class="table-of-contents__link toc-highlight">Control plane Ingress</a></li><li><a href="#worker-ingress" class="table-of-contents__link toc-highlight">Worker Ingress</a></li></ul></li><li><a href="#cluster-machines" class="table-of-contents__link toc-highlight">Cluster machines</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Explore</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.ibm.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM</a></li><li class="footer__item"><a href="https://www.ibm.com/client-engineering" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM Client Engineering - Open Solutions Library</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://ibm.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="https://upload.wikimedia.org/wikipedia/commons/5/51/IBM_logo.svg" alt="IBM Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="150" height="150"><img src="https://upload.wikimedia.org/wikipedia/commons/5/51/IBM_logo.svg" alt="IBM Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="150" height="150"></a></div></div></div></footer></div>
</body>
</html>